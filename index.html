<!-- index.html -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
  <!-- <link rel="icon" href="/favicon.ico" type="image/x-icon"> -->

  <title>Fitbit API Example</title>

  <script src="fitbitAuth.js"></script>
  <script src="fitbitApi.js"></script> 
  <script src="planAnalyzerModel.js"></script> 
  <script src="planAnalyzerDisplay.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> 
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script> 
  <script src="chartBuilder.js"></script>

</head>
<body onload="init()">
  <button onclick="fitbitDatastore={}">Clear Fitbit Data</button>
  <button onclick="console.log(fitbitDatastore)">Show Fitbit Data</button>
  <br/>
  <label for="duration">Duration (days):</label>
  <input type="number" id="duration" name="duration" min="1" value="1094"> 
  <button onclick="setStartDate()">Set Start Date</button>

  <label for="startDate">Start Date:</label>
  <input type="date" id="startDate" name="startDate">
  <br/>
  <button onclick="authenticateFitbit()">Authenticate</button>
  <button onclick="getProfile()">Get Profile</button>
  <br/>

  <button onclick="getCalorieLogs(getStartDate(), getDuration())">Get Calories Burned Logs</button>
  <button onclick="getAzmLogs(getStartDate(), getDuration())">Get AZM Logs</button>
  <br/>
  <!-- Button for getting steps logs -->
  <button onclick="getStepLogs(getStartDate(), getDuration())">Get Step Logs</button>

    <!-- Button for getting distance logs -->
  <button onclick="getDistanceLogs(getStartDate(), getDuration())">Get Distance Logs</button>

  <!-- Button for getting minutes sedentary logs -->
  <button onclick="getMinutesSedentaryLogs(getStartDate(), getDuration())">Get Minutes Sedentary Logs</button> <!-- 693 for min -->

  <!-- Button for getting minutes lightly active logs -->
  <button onclick="getMinutesLightlyActiveLogs(getStartDate(), getDuration())">Get Minutes Lightly Active Logs</button>

  <!-- Button for getting minutes fairly active logs -->
  <button onclick="getMinutesFairlyActiveLogs(getStartDate(), getDuration())">Get Minutes Fairly Active Logs</button>

  <!-- Button for getting minutes very active logs -->
  <button onclick="getMinutesVeryActiveLogs(getStartDate(), getDuration())">Get Minutes Very Active Logs</button>

  <br/>
  <button onclick="getFoodLogs(getStartDate(), getDuration())">Get Food Logs</button>
  <button onclick="getMacroLogs(getStartDate(), getDuration())">Get Macro Logs</button> <!-- 1 day only -->

  <button onclick="getSleepLogs(getStartDate(), getDuration())">Get Sleep Logs</button> <!-- 100 records -->
  <br/>

  <button onclick="getWeightLogs(getStartDate(), getDuration())">Get Weight Logs</button>
  <button onclick="getFatPercentLogs(getStartDate(), getDuration())">Get Body Fat Percent Logs</button>
  <br/>

  <button onclick="calculateBodyWeightData()">Calculate Body Weight Data</button>
  <br/>
  <label for="startDateCharts">Chart Start Date:</label>
  <input type="date" id="startDateCharts" name="startDateCharts" value="2023-11-13">
  <label for="endDateCharts">Chart End Date:</label>
  <input type="date" id="endDateCharts" name="endDateCharts" value="2024-01-13">
  <button onclick="displayCharts(getStartDateCharts(), getEndDateCharts())">Display Charts</button>

<br/>

  <!-- Add more buttons for other Fitbit APIs as needed -->
  <script>
    function setStartDate() {
      const today = new Date()
      const startDateCalc = new Date(today)
      startDateCalc.setDate(today.getDate() - getDuration());
      const startDateInput = document.getElementById('startDate');
      startDateInput.valueAsDate = startDateCalc;
    }
   setStartDate() 
  </script>

<div id="weightChartArea">
<canvas id="weightChart"></canvas>
</div>
<div id="fatPercentChartArea">
<canvas id="fatPercentChartArea"></canvas>
</div>

</body>
</html>
